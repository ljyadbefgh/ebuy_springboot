webpackJsonp([61],{"4qpM":function(e,r){},p1P8:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o={name:"MenuEdit",props:{menuArray:{type:Array,default:function(){return[]}}},data:function(){return{dialogFormVisible:!1,optionProps:{value:"id",label:"name",children:"children",checkStrictly:!0},form:{},rules:{name:[{required:!0,message:"不能为空",trigger:"blur"},{max:20,message:"长度不能超过20个字符",trigger:"blur"}],url:[{required:!0,message:"不能为空",trigger:"blur"},{max:200,message:"长度不能超过200个字符",trigger:"blur"}],orderNum:[{required:!0,message:"不能为空",trigger:"blur"},{type:"number",message:"必须为数字值",trigger:"blur"}],component:[{max:20,message:"长度不能超过20个字符",trigger:"blur"}],iconCls:[{max:200,message:"长度不能超过200个字符",trigger:"blur"}],route:[{max:200,message:"长度不能超过200个字符",trigger:"blur"}],path:[{max:200,message:"长度不能超过200个字符",trigger:"blur"}]}}},methods:{getMenu:function(e){},openDialog:function(e){var r=this;this.dialogFormVisible=!0,void 0!=e&&this.$nextTick(function(){r.$axios.get("api/backstage/menumanage/"+e).then(function(e){var t=e.data;if(0===t.code&&(r.form=t.data,r.form.menuIdPathArray=new Array,null!=r.form.parentId||void 0!=r.form.parentId))for(var o=r.myMethod.tree.getRootPathAtTreeByKey(r.form.parentId,"id",r.menuArray),a=0;a<o.length;a++)r.form.menuIdPathArray.push(o[a].id)})})},closeDialog:function(){this.dialogFormVisible=!1},opened:function(){},closed:function(){this.$refs.form.resetFields()},menuChange:function(e){e.length>0?this.form.parentId=e[e.length-1]:this.form.parentId=""},submitForm:function(e){var r=this;this.$refs[e].validate(function(e){if(!e)return!1;r.$axios.put("/api/backstage/menumanage",window.JSON.stringify(r.form)).then(function(e){var t=e.data;0===t.code&&(r.$message({type:"success",message:t.msg}),r.closeDialog(),r.$emit("menuTableRefresh"))})})}}},a={render:function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("el-dialog",{attrs:{title:"菜单编辑",visible:e.dialogFormVisible,"close-on-click-modal":!1,width:"500px"},on:{"update:visible":function(r){e.dialogFormVisible=r},opened:e.opened,closed:e.closed}},[t("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[t("el-form-item",{attrs:{label:"上级菜单",prop:"menuIdPathArray",align:"left"}},[t("el-cascader",{ref:"menuCascader",attrs:{clearable:"",options:e.menuArray,props:e.optionProps},on:{change:e.menuChange},model:{value:e.form.menuIdPathArray,callback:function(r){e.$set(e.form,"menuIdPathArray",r)},expression:"form.menuIdPathArray"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"菜单名",prop:"name"}},[t("el-input",{model:{value:e.form.name,callback:function(r){e.$set(e.form,"name",r)},expression:"form.name"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"优先级",prop:"orderNum"}},[t("el-input",{model:{value:e.form.orderNum,callback:function(r){e.$set(e.form,"orderNum",e._n(r))},expression:"form.orderNum"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"是否可用",prop:"enabled",align:"left"}},[t("el-switch",{model:{value:e.form.enabled,callback:function(r){e.$set(e.form,"enabled",r)},expression:"form.enabled"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"资源地址",prop:"url"}},[t("el-input",{model:{value:e.form.url,callback:function(r){e.$set(e.form,"url",r)},expression:"form.url"}})],1),e._v(" "),t("el-divider",{attrs:{"content-position":"center"}},[e._v("组件设置")]),e._v(" "),t("el-form-item",{attrs:{label:"组件名称",prop:"component"}},[t("el-input",{model:{value:e.form.component,callback:function(r){e.$set(e.form,"component",r)},expression:"form.component"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"组件图片",prop:"iconCls",placeholder:"请结合前端，填写图片样式名称"}},[t("el-input",{model:{value:e.form.iconCls,callback:function(r){e.$set(e.form,"iconCls",r)},expression:"form.iconCls"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"路由地址",prop:"route"}},[t("el-input",{model:{value:e.form.route,callback:function(r){e.$set(e.form,"route",r)},expression:"form.route"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"组件地址",prop:"path"}},[t("el-input",{model:{value:e.form.path,callback:function(r){e.$set(e.form,"path",r)},expression:"form.path"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"需要登陆",prop:"requireAuth",align:"left"}},[t("el-switch",{model:{value:e.form.requireAuth,callback:function(r){e.$set(e.form,"requireAuth",r)},expression:"form.requireAuth"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"是否显示",prop:"display",align:"left"}},[t("el-switch",{model:{value:e.form.display,callback:function(r){e.$set(e.form,"display",r)},expression:"form.display"}})],1)],1),e._v(" "),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(r){e.dialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),t("el-button",{attrs:{type:"primary"},on:{click:function(r){return e.submitForm("form")}}},[e._v("确认修改")])],1)],1)},staticRenderFns:[]};var l=t("VU/8")(o,a,!1,function(e){t("4qpM")},"data-v-797b1123",null);r.default=l.exports}});
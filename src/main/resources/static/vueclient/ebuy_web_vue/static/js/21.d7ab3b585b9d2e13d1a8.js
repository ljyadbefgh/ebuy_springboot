webpackJsonp([21],{"5mBe":function(e,r,s){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var t=s("mvHQ"),a=s.n(t),o={name:"PasswordEdit",data:function(){var e=this,r=function(e,r,s){-1!=r.indexOf(" ")?s(new Error("密码不能包含空格")):s()};return{loading:!1,form:{},rules:{password:[{required:!0,message:"请输入密码",trigger:"blur"},{validator:r,trigger:"blur"},{min:6,max:12,message:"密码必须6到12位",trigger:"blur"}],newPass:[{required:!0,message:"请输入新密码",trigger:"blur"},{validator:r,trigger:"blur"},{min:6,max:12,message:"新密码必须6到12位",trigger:"blur"}],rePass:[{required:!0,message:"请输入确认密码",trigger:"blur"},{validator:function(r,s,t){s!==e.form.newPass?t(new Error("新密码和确认密码不一致")):t()},trigger:"blur"}]}}},methods:{submitForm:function(e){var r=this;this.$refs[e].validate(function(e){if(!e)return!1;r.loading=!0,r.$axios.patch(r.API.API_URL_BACKSTAGE_ADMIN_PASSWORD,a()(r.form)).then(function(e){var s=e.data;0===s.code&&r.$message({type:"success",message:s.msg}),r.loading=!1}).catch(function(e){r.loading=!1})})}}},n={render:function(){var e=this,r=e.$createElement,s=e._self._c||r;return s("div",[s("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[s("el-form-item",{attrs:{label:"原密码",prop:"password",align:"left"}},[s("el-input",{attrs:{"show-password":""},model:{value:e.form.password,callback:function(r){e.$set(e.form,"password",r)},expression:"form.password"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"新密码",prop:"newPass"}},[s("el-input",{attrs:{"show-password":""},model:{value:e.form.newPass,callback:function(r){e.$set(e.form,"newPass",r)},expression:"form.newPass"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"确认密码",prop:"rePass"}},[s("el-input",{attrs:{"show-password":""},model:{value:e.form.rePass,callback:function(r){e.$set(e.form,"rePass",r)},expression:"form.rePass"}})],1),e._v(" "),s("div",{staticStyle:{"text-align":"center"}},[s("el-button",{attrs:{type:"primary",loading:e.loading},on:{click:function(r){return e.submitForm("form")}}},[e._v("修改")])],1)],1)],1)},staticRenderFns:[]};var i=s("VU/8")(o,n,!1,function(e){s("YLve")},"data-v-284cfc52",null);r.default=i.exports},YLve:function(e,r){}});
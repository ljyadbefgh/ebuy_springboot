webpackJsonp([4],{m8mK:function(e,t){},nHMO:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={name:"MenuManage",components:{MenuAdd:function(){return n.e(53).then(n.bind(null,"2kpm"))},menuEdit:function(){return n.e(61).then(n.bind(null,"p1P8"))}},data:function(){return{menuArray:[],multipleSelection:[]}},methods:{getTreeMenu:function(){var e=this;this.$axios.get("/api/backstage/menumanage").then(function(t){var n=t.data;0===n.code&&(e.myMethod.tree.setTreeNodeChildrenForUndefined(n.data),e.menuArray=n.data)})},handleSelectionChange:function(e){this.multipleSelection=e},addMenu:function(e){this.$refs.menuAddForm.openDialog(e.id)},editMenu:function(e){this.$refs.menuEditForm.openDialog(e.id)},deleteMenu:function(e){var t=this;this.$confirm("确定要批量删除菜单("+e.name+")吗？执行删除将删除该菜单及其所有子菜单和相关联的其他信息","系统提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$prompt("删除后将无法还原，如果确认删除，请输入“DELETE”","警告",{inputPattern:/^DELETE{1}$/,inputErrorMessage:"口令不正确",confirmButtonText:"确定删除",cancelButtonText:"取消"}).then(function(n){n.value;t.$axios.delete("/api/backstage/menumanage/"+e.id).then(function(e){0===e.data.code&&t.getTreeMenu()})}).catch(function(){})}).catch(function(e){})}},mounted:function(){this.getTreeMenu()}},a={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"item",staticStyle:{"margin-bottom":"5px"},attrs:{align:"left"}},[n("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.$refs.menuAddForm.openDialog()}}},[e._v("添加")])],1),e._v(" "),n("el-table",{staticStyle:{width:"100%","margin-bottom":"20px"},attrs:{data:e.menuArray,"row-key":"id",border:"",height:"550","default-expand-all":"","tree-props":{children:"children",hasChildren:"hasChildren"}}},[n("el-table-column",{attrs:{width:"200",prop:"name",label:"菜单名"}}),e._v(" "),n("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"url",label:"资源地址"}}),e._v(" "),n("el-table-column",{attrs:{width:"75",align:"center",prop:"enabled",label:"是否可用"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.enabled?n("el-tag",{attrs:{size:"medium",type:"success"}},[e._v("可用")]):e._e(),e._v(" "),0==t.row.enabled?n("el-tag",{attrs:{size:"medium",type:"info"}},[e._v("废弃")]):e._e()]}}])}),e._v(" "),n("el-table-column",{attrs:{width:"60",align:"center",prop:"orderNum",label:"优先级"}}),e._v(" "),n("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"component",label:"组件名称"}}),e._v(" "),n("el-table-column",{attrs:{width:"50",align:"center",prop:"iconCls",label:"图片"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.iconCls?n("i",{class:t.row.iconCls}):e._e()]}}])}),e._v(" "),n("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"path",label:"组件地址"}}),e._v(" "),n("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"route",label:"路由地址"}}),e._v(" "),n("el-table-column",{attrs:{width:"70",align:"center",prop:"requireAuth",label:"要求登陆"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.requireAuth?n("el-tag",{attrs:{size:"medium",type:"success"}},[e._v("是")]):e._e(),e._v(" "),0==t.row.requireAuth?n("el-tag",{attrs:{size:"medium",type:"info"}},[e._v("否")]):e._e()]}}])}),e._v(" "),n("el-table-column",{attrs:{width:"60",align:"center",prop:"requireAuth",label:"显示"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.display?n("el-tag",{attrs:{size:"medium",type:"success"}},[e._v("是")]):e._e(),e._v(" "),0==t.row.display?n("el-tag",{attrs:{size:"medium",type:"info"}},[e._v("否")]):e._e()]}}])}),e._v(" "),n("el-table-column",{attrs:{fixed:"right",align:"center",label:"操作",width:"290"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{type:"primary"},on:{click:function(n){return e.addMenu(t.row)}}},[e._v("添加子菜单")]),e._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:function(n){return e.editMenu(t.row)}}},[e._v("编辑")]),e._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:function(n){return e.deleteMenu(t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),n("MenuAdd",{ref:"menuAddForm",attrs:{menuArray:this.menuArray},on:{menuTableRefresh:e.getTreeMenu}}),e._v(" "),n("menuEdit",{ref:"menuEditForm",attrs:{menuArray:this.menuArray},on:{menuTableRefresh:e.getTreeMenu}})],1)},staticRenderFns:[]};var o=n("VU/8")(r,a,!1,function(e){n("m8mK")},"data-v-d25e7c6a",null);t.default=o.exports}});
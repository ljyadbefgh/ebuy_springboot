webpackJsonp([17],{OmX4:function(e,t){},u7MI:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={name:"ProductOrderDetailManage",components:{ProductOrderDetailSearch:function(){return r.e(70).then(r.bind(null,"OtAJ"))}},data:function(){return{disabled:!0,table:{tableData:[],limit:20,page:1,total:0,hideOnSinglePage:!1},productOrder:null,multipleSelection:[],productOrderDetailQuery:{}}},methods:{initQuery:function(){this.$set(this.productOrderDetailQuery,"orderNo",""),this.$set(this.productOrderDetailQuery,"productId",""),this.$set(this.productOrderDetailQuery,"paymentStatus",""),this.$set(this.productOrderDetailQuery,"tag",""),this.$set(this.productOrderDetailQuery,"createTimeQueryOfBegin",""),this.$set(this.productOrderDetailQuery,"createTimeQueryOfEnd","")},getTableData:function(){var e=this;this.$axios.get("/api/backstage/productorderdetail",{params:{page:this.table.page,limit:this.table.limit,"productOrderQuery.orderNo":this.productOrderDetailQuery.orderNo,"product.id":this.productOrderDetailQuery.productId,"productOrderQuery.paymentStatus":this.productOrderDetailQuery.paymentStatus,"productOrderQuery.tag":this.productOrderDetailQuery.tag,"productOrderQuery.createTimeQueryOfBegin":this.productOrderDetailQuery.createTimeQueryOfBegin,"productOrderQuery.createTimeQueryOfEnd":this.productOrderDetailQuery.createTimeQueryOfEnd}}).then(function(t){var r=t.data;0===r.code&&(e.table.tableData=r.data,e.table.total=r.count)})},handleCurrentChange:function(e){this.table.page=e,this.getTableData()},handleSizeChange:function(e){this.table.limit=e,this.getTableData()},handleSelectionChange:function(e){this.multipleSelection=e,this.multipleSelection.length>0?this.disabled=!1:this.disabled=!0},checkSelection:function(){if(this.multipleSelection.length>0)return!0;this.$message.error("请先选择数据")}},mounted:function(){this.initQuery(),this.getTableData()}},l={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"item"},[r("ProductOrderDetailSearch",{ref:"productOrderDetailSearch",attrs:{productOrderDetailQuery:e.productOrderDetailQuery},on:{tableRefresh:e.getTableData,initQuery:e.initQuery}}),e._v(" "),r("el-table",{staticStyle:{width:"100%"},attrs:{data:e.table.tableData,stripe:"",border:""},on:{"selection-change":e.handleSelectionChange}},[r("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"productOrder.orderNo",label:"订单编号"}}),e._v(" "),r("el-table-column",{attrs:{width:"150","show-overflow-tooltip":"",prop:"product.name",label:"产品名称"}}),e._v(" "),r("el-table-column",{attrs:{width:"80",align:"center","show-overflow-tooltip":"",label:"原价"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("i",{staticStyle:{"text-decoration":"line-through",color:"#9c9c9c"}},[e._v("￥"+e._s(t.row.originalPrice))]),r("br")]}}])}),e._v(" "),r("el-table-column",{attrs:{width:"80",align:"center","show-overflow-tooltip":"",label:"现价"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("i",[e._v("￥"+e._s(t.row.price))])]}}])}),e._v(" "),r("el-table-column",{attrs:{width:"100",align:"center","show-overflow-tooltip":"",prop:"productNumber",label:"数量"}}),e._v(" "),r("el-table-column",{attrs:{width:"100",align:"center","show-overflow-tooltip":"",prop:"priceTotal",label:"总价"}}),e._v(" "),r("el-table-column",{attrs:{width:"70","show-overflow-tooltip":"",align:"center",label:"支付状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[0==t.row.productOrder.paymentStatus?r("el-tag",{attrs:{type:"danger"}},[e._v("未付款")]):1==t.row.productOrder.paymentStatus?r("el-tag",{attrs:{type:"success"}},[e._v("已付款")]):r("el-tag",{attrs:{type:"warning"}},[e._v("已退款")])]}}])}),e._v(" "),r("el-table-column",{attrs:{width:"70","show-overflow-tooltip":"",align:"center",prop:"tag",label:"订单状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(e.myVariable.orderTagMap[t.row.productOrder.tag])+"\n        ")]}}])}),e._v(" "),r("el-table-column",{attrs:{width:"140","show-overflow-tooltip":"",align:"center",prop:"productOrder.createTime",label:"下单时间"}})],1)],1),e._v(" "),r("div",{staticClass:"text item"},[r("div",{staticClass:"block"},[r("el-pagination",{attrs:{background:"",layout:"prev,pager,next,total,sizes,jumper","hide-on-single-page":e.table.hideOnSinglePage,"page-sizes":[10,20,50,100],"page-size":e.table.limit,"current-page":e.table.page,total:e.table.total,"pager-count":11},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)])])},staticRenderFns:[]};var i=r("VU/8")(a,l,!1,function(e){r("OmX4")},"data-v-42a19232",null);t.default=i.exports}});